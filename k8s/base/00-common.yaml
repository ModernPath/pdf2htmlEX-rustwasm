---
apiVersion: v1
kind: Namespace
metadata:
  name: ode
  labels:
    name: ode
    project: ode

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: ode-config
  namespace: ode
data:
  LOG_LEVEL: "info"
  RUST_LOG: "ode_api=info,ode_core=info,ode_worker=info"
  REDIS_KEY_PREFIX: "ode:"
  DOCUMENT_MAX_SIZE_MB: "100"

---
apiVersion: v1
kind: Secret
metadata:
  name: ode-secrets
  namespace: ode
type: Opaque
stringData:
  database-url: "postgresql://user:password@host:5432/dbname"
  redis-url: "redis://:password@host:6379"
  aws-access-key-id: ""
  aws-secret-access-key: ""
  aws-region: "us-east-1"
  documents-bucket: "ode-production-documents"
  exports-bucket: "ode-production-exports"
  fonts-bucket: "ode-production-fonts"

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: ode-api
  namespace: ode

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: ode-worker
  namespace: ode

---
apiVersion: v1
kind: ServiceAccount
metadata:
  name: ode-viewer
  namespace: ode